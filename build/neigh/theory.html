<p><b>Neighbourhood Operations: Theory<p></b></p>

<p>Given an input image f(x,y) 
an output image g(x,y) is computed by applying some operation on a local 
neighbourhood N of each pixel in the image f. This can be visualized 
as follows: a window or mask is placed at every pixel location in f(x,y) 
and some operation is performed on the pixels within the window. The 
window is moved to the next pixel location nd the process is repeated. 
Thus, </p>

<p><i>
<img width=147 height=24 align="center"
src="neigh/image001.gif"></i></p>

<p>
Where H<sub>N</sub> is the neighborhood operator of size <i>N</i> and <i>g</i> is the output
image.</p></p>

<p><b>Linear operations</b> :</p>
<p>Linear operations can be represented 
as a convolution operation between f(x,y) and a window function w(x,y) 
as follows. </p>
<span><img width=244 height=45
src="neigh/image002.gif"></p>

<p><i>w </i> is a window function which in practice is in the form of a matrix of 
size<i> s </i>x <i>t</i>; <i>a=(s-1)/2 </i>
and <i>b=(t-1)/2 . </i> </p>
<p>An example of 3x3 w(x,y) is 
shown below.</p>
<a name="0.1_table01"></a>
<div align="left">
<ul><ul><ul><table width="168" border="2" cellspacing="0">
<tr valign="top"><td>w(-1,-1)</td>
  <td>w(-1,0)</td>
  <td>w(-1,1)</td></tr>
<tr valign="top"><td>w(0,-1)</td>
  <td>w(0,0)</td>
  <td>w(0,1)</td></tr>
<tr valign="top"><td>w(1,-1)</td>
  <td>w(1,0)</td>
  <td>w(1,1)</td></tr>
</table>
</ul></ul></ul>
</div>
<p> </p>



<p>An example of convolution operation is shown below:</p>
<p>
<img width=750 height=500
id="Picture 3"
src="neigh/convolution.jpg"></p>





<p>Note that w(0,0) is the coefficient 
or weight of the window function at the centre which is the position 
of the current pixel in f(x,y). Varying the weights w(i,j), results 
in different type of linear neighborhood operations. The above 
operations are generally termed as filtering operations and w is referred 
to as a filter. A popular filter is one which performs local averaging 
or smoothing of the image. This is a low pass filter. The key characteristic 
of this filter is that w(i,j) &gt; 0 for every (i,j). An additional 
constraint is generally imposed on the weights to sum to 1. Below are 
some examples.</p>
<ol type="1">
  <li>Straight averaging 
  filter: All the filter coefficients are equal.</li>
</ol>

<p>
<img width=282 height=202
id="Picture 3"
src="neigh/image003.jpg"></p>

<ol type="1" start="2">
  <li>Triangular filter:All the coefficients are arranged to form a pyramid (with triangular 
  faces) as shown below</li>
</ol>
<img width=285 height=203
id="Picture 4"
src="neigh/image004.jpg"></p>

<ol type="1" start="3">
  <li>Gaussian filter: 
  The filter coefficients form a bell shaped surface as shown below.</li>
</ol>

<p>
<img width=283 height=198
id="Picture 5"
src="neigh/image005.jpg"></p>
</p>

<p>Nonlinear
Operations:</p>
<p><b>Nonlinear Operations</b>:</p>
<p><i>H</i><sub><i>N</i></sub><i> </i>
can also be a nonlinear operator. An example is one which performs 
a ranking operation. Such operations <i>cannot</i> be represented 
as a convolution between f(x,y) and a window function as in the case 
of linear operations. </p>
<ol type="1">
  <li>Median filter:  
  The operator <i>H</i><sub><i>N</i></sub> computes the median 
  of the set of grey values in the neighborhood of the current pixel in 
  f(x,y).  This is found by performing a sorting operation at every location 
  (x,y) in f(x,y).  </li>
  <li>Unsharp Masking 
  filter: This is another example of nonlinear filtering. Here, 
  the aim is to highlight the details. This operation is given by</li>
</ol>
<img src="neigh/image006.gif">
Where <img width=38 height=23
src="neigh/image007.gif"> is the result of applying an averaging filter (ex. Gaussian) 
to the input <i>f(x,y)</i> and <font size="3" face="Symbol">a</font> &lt; 1 is a constant.  Note 
that if <font size="3" face="Symbol">a</font> =1 
then we have an operation that will <u>retain</u> <u>only</u> the details 
in the image. </p>
<p><b>Implementation Issues</b></p>
<p>When a pixel lies in the border 
of the input image, some elements of its neighbourhood is not defined. 
Hence the mask cannot be applied. To circumvent this issue, one of the 
following two approaches can be used :</p>
<p>Zero Padding : The undefined 
pixels are assumed to be zero and the mask can be applied. For example: An input image of size MXN and filter size mXn, the output image size will be (M+(m-1)/2) X (N+(n-1)/2) </p>
<p>Repetition : The border pixels in 
input image are repeated, so that the neighbourhood is always defined 
and mask can be applied. <br></p>

<p> An example demonstrating Zero-Padding and repitition of border pixels is shown below:
<p>
<img width=750 height=500
src="neigh/filter.jpg"></p>
</p>

